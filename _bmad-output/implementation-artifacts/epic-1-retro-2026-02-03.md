# 에픽 1 회고: 보드 시스템 (Board System)

**프로젝트:** 오호대장군 (Five Tiger Generals)
**에픽:** Epic 1 - 보드 시스템
**회고 날짜:** 2026-02-03
**진행자:** Bob (Scrum Master)

---

## 에픽 요약

### 전달 지표

| 항목 | 값 |
|------|-----|
| 완료된 스토리 | 6/6 (100%) |
| 신규 파일 | 7개+ |
| 수정 파일 | 18개+ |
| 단위 테스트 | 145개 |
| 차단 요소 | 0개 |
| 기술 부채 | 3개 항목 |

### 완료된 스토리

| # | 스토리 | 상태 | 주요 성과 |
|---|--------|------|----------|
| 1-1 | 34타일 삼각형 보드 표시 | done | 모노레포 구조, Phaser 설정, 보드 렌더링 |
| 1-2 | 타일 선택 | done | InputHandler, 선택 상태 관리, 이벤트 시스템 |
| 1-3 | 타일 하이라이트 | done | 호버 상태, 다중 상태 렌더링, 상태 우선순위 |
| 1-4 | 반응형 레이아웃 | done | 동적 스케일, ResizeObserver, 최소 터치 타겟 |
| 1-5 | 진영 시각적 구분 | done | ZONE_COLORS game-core 이동, 색맹 접근성 |
| 1-6 | 타일 좌표 시스템 | done | getAttackDirection, 132개 테스트, O(1) 최적화 |

---

## 팀 참석자

| 이름 | 역할 |
|------|------|
| Bob | Scrum Master (진행자) |
| Alice | Product Owner |
| Charlie | Senior Dev |
| Dana | QA Engineer |
| Elena | Junior Dev |
| CHOI | Project Lead |

---

## 성공 및 강점

### 1. 아키텍처 경계 준수
- game-core: Phaser 의존성 없이 순수 TypeScript 로직 유지
- game-renderer: 렌더링 전용 로직 분리
- Phase 2 Colyseus 서버 재사용 기반 마련

### 2. 점진적 기능 확장
- 각 스토리가 이전 구현을 활용하며 자연스럽게 확장
- `highlightTiles()` → `renderWithStates()` → 동적 크기 계산
- 재사용 가능한 메서드 설계

### 3. 포괄적 테스트
- 132개 좌표 시스템 테스트 (board.test.ts)
- 13개 색상 시스템 테스트 (colors.test.ts)
- 게임 시나리오 기반 통합 테스트

### 4. 빠른 아키텍처 수정
- ZONE_COLORS를 game-renderer에서 game-core로 이동
- 문제 발견 시 즉시 교정하는 문화

---

## 도전 및 성장 영역

### 1. 초기 프로젝트 설정 복잡성
- **문제:** 스토리 1-1에서 pnpm workspace, 다중 패키지 구조, SSR Safe Dynamic Import 등 인프라 작업이 많았음
- **영향:** 첫 스토리 범위가 예상보다 큼
- **학습:** 첫 스토리는 항상 인프라 셋업을 포함할 수 있음을 고려

### 2. Phaser API 학습 곡선
- **문제:** `destroy()` → `shutdown()` 메서드 변경 필요
- **해결:** 문서 참조 및 시행착오, Debug Log에 기록
- **학습:** Phaser API 자주 쓰는 패턴 문서화 필요

### 3. 자동화 테스트 부족
- **문제:** 현재 수동 테스트에 의존
- **영향:** 회귀 테스트 커버리지 부족
- **계획:** E2E 테스트 프레임워크 (Playwright) 도입 검토

---

## 핵심 인사이트

1. **모노레포 구조의 장기적 가치** - game-core 분리로 서버 재사용 기반 마련
2. **테스트 투자의 효과** - 132개 테스트가 에픽 2 진행에 자신감 제공
3. **점진적 리팩토링** - ZONE_COLORS 이동처럼 필요시 빠르게 수정
4. **스토리 기록의 가치** - Dev Notes가 회고에서 중요한 인사이트 제공

---

## 기술 부채

| # | 항목 | 우선순위 | 출처 | 비고 |
|---|------|---------|------|------|
| 1 | 하이라이트 애니메이션 (AC4) | LOW | Story 1-3 | Phase 1에서 선택적, 현재 즉각적 색상 변경으로 충분 |
| 2 | 성능 최적화 (dirty flag) | LOW | Story 1-3 | 34타일이라 현재는 전체 재렌더링으로 충분 |
| 3 | E2E 자동화 테스트 | MEDIUM | Story 1-3 | Vitest/Playwright 추가 필요 |

---

## 액션 아이템

### 프로세스 개선

| # | 액션 아이템 | 담당 | 마감 | 성공 기준 |
|---|------------|------|------|----------|
| 1 | E2E 테스트 프레임워크 조사 | Dana (QA) | 에픽 2 중 | 프레임워크 선택 및 PoC 완료 |
| 2 | Phaser API 참고 문서 정리 | Charlie (Dev) | 지속적 | 자주 쓰는 API 목록 문서화 |

### 팀 합의

- [x] game-core에 Phaser 의존성 절대 금지 (계속 준수)
- [x] 새 상수/타입은 game-core에 먼저 정의
- [x] 스토리 완료 시 Dev Notes에 학습 내용 기록
- [x] 코드 리뷰에서 아키텍처 경계 확인

---

## 에픽 2 준비 태스크

### 필수 (에픽 2 시작 전 권장)

| # | 태스크 | 담당 | 상태 |
|---|--------|------|------|
| 1 | General 인터페이스 설계 (game-core) | Charlie (Dev) | 대기 |

### 병행 가능 (에픽 2 초기 스토리에서)

- GeneralRenderer 클래스 구현
- 게임 상태 확장
- 타일-장수 상호작용 로직

---

## 에픽 1 → 에픽 2 의존성 확인

| 의존성 | 상태 | 비고 |
|--------|------|------|
| 보드 렌더링 (34타일) | ✅ 완료 | Story 1-1 |
| 타일 선택 시스템 | ✅ 완료 | Story 1-2 |
| 구역 정보 | ✅ 완료 | Story 1-5 (ZONE_COLORS) |
| 좌표 시스템 | ✅ 완료 | Story 1-6 (getAttackDirection 포함) |

**결론:** 에픽 2 시작을 위한 모든 의존성 충족됨

---

## 중요 발견 사항

**에픽 업데이트 필요:** 아니오

에픽 1에서 에픽 2 계획을 근본적으로 변경해야 할 발견은 없었습니다.
- 좌표 시스템 정상 작동
- 구역 정보 정확
- 선택 시스템 확장 가능

---

## 준비 상태 평가

| 항목 | 상태 | 비고 |
|------|------|------|
| 테스트 & 품질 | ✅ 완료 | 145개 단위 테스트 통과 |
| 배포 | ✅ 완료 | 개발 서버 실행 확인 |
| 기술 건강 | ✅ 양호 | 아키텍처 경계 준수 |
| 미해결 차단요소 | ✅ 없음 | |

---

## 다음 단계

1. 준비 완료 시 에픽 2 시작 (`create-story` 워크플로우 사용)
2. 다음 스탠드업에서 액션 아이템 리뷰
3. General 인터페이스 설계 (권장)

---

## 문서 정보

- **생성일:** 2026-02-03
- **다음 회고:** 에픽 2 완료 후
- **Sprint Status 키:** epic-1-retrospective → done
