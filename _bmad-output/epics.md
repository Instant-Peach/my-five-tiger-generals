# 오호대장군 (Five Tiger Generals) - Development Epics

**Project:** 오호대장군 (Five Tiger Generals)
**Created:** 2026-02-03
**Author:** CHOI

---

## Epic Overview

| # | Epic Name | Phase | Scope | Dependencies | Est. Stories |
|---|-----------|-------|-------|--------------|--------------|
| 1 | 보드 시스템 | 1 | 삼각형 보드 렌더링, 타일 상호작용 | 없음 | 6 |
| 2 | 장수 시스템 | 1 | 장수 배치, 스탯, 선택 | Epic 1 | 5 |
| 3 | 이동 시스템 | 1 | 이동 규칙, 경로 표시, 유효성 검증 | Epic 1, 2 | 5 |
| 4 | 전투 시스템 | 1 | 해/달/전선 공격, 피해 계산 | Epic 1, 2, 3 | 6 |
| 5 | 턴 관리 | 1 | 턴 전환, 타이머, 상태 관리 | Epic 1-4 | 4 |
| 6 | 승리 조건 | 1 | 노크, 전멸, 와해, 항복 | Epic 1-5 | 5 |
| 7 | 책략 시스템 | 2-3 | 20개 책략 구현 | Epic 1-6 | 12 |
| 8 | UI/UX | 1-2 | 게임 UI, HUD, 메뉴 | Epic 1 | 8 |
| 9 | 멀티플레이어 | 2 | 온라인 대전, 매칭, 동기화 | Epic 1-6, 8 | 10 |
| 10 | 계정/랭킹 | 2-3 | 로그인, ELO, 티어, 전적 | Epic 9 | 7 |

---

## Epic 1: 보드 시스템

### Goal

삼각형 테셀레이션 보드를 화면에 렌더링하고, 각 타일과의 상호작용을 구현하여 게임의 기반을 마련한다.

### Scope

**Includes:**
- 34타일 삼각형 테셀레이션 보드 렌더링
- Up(▲)/Down(▽) 타일 방향 구분
- 타일 좌표 시스템 (axial 또는 offset 좌표)
- 타일 선택 및 하이라이트
- 구역 구분 (시작 구역, 끝 구역, 측면, 일반)
- 반응형 레이아웃 (모바일/데스크톱)

**Excludes:**
- 장수 배치 (Epic 2)
- 이동 경로 표시 (Epic 3)
- 지형 효과 (scope 외)

### Dependencies

없음 - 첫 번째 Epic

### Deliverable

빈 삼각형 보드가 화면에 표시되고, 타일을 탭/클릭하면 선택되어 하이라이트되는 상태

### Stories

1. **[BOARD-001]** 플레이어는 34타일 삼각형 보드를 화면에서 볼 수 있다
2. **[BOARD-002]** 플레이어는 타일을 탭/클릭하여 선택할 수 있다
3. **[BOARD-003]** 선택된 타일이 시각적으로 하이라이트된다
4. **[BOARD-004]** 보드가 다양한 화면 크기에 반응형으로 표시된다
5. **[BOARD-005]** 각 타일의 구역(시작/끝/측면/일반)이 시각적으로 구분된다
6. **[BOARD-006]** 타일 좌표 시스템이 내부적으로 동작한다

---

## Epic 2: 장수 시스템

### Goal

삼국지 장수들을 보드에 배치하고, 각 장수의 스탯(별, 해, 달, 발)을 관리하며, 장수 선택 기능을 구현한다.

### Scope

**Includes:**
- 장수 데이터 모델 (이름, 스탯, 이미지)
- 초기 장수 배치 로직 (시작 구역) - MVP: 자동 배치
- 장수 선택 UI
- 장수 정보 표시 (스탯, 현재 병력)
- 양 플레이어 장수 구분 (색상)

**Excludes:**
- 장수 이동 (Epic 3)
- 장수 전투 (Epic 4)
- 장수 해금/수집 (Phase 3+)
- 수동 출전 시스템 (Phase 3+) - 게임 중 장수를 수동으로 배치하고 병력 지정

### Dependencies

- Epic 1: 보드 시스템 (타일에 장수 배치)

### Deliverable

양측 플레이어의 장수 5명씩이 보드에 배치되고, 장수를 탭하면 정보가 표시되는 상태

### Stories

1. **[GENERAL-001]** 플레이어는 자신의 장수를 시작 구역에 배치할 수 있다
2. **[GENERAL-002]** 플레이어는 장수를 탭하여 선택할 수 있다
3. **[GENERAL-003]** 선택된 장수의 스탯 정보가 UI에 표시된다
4. **[GENERAL-004]** 양 플레이어의 장수가 색상으로 구분된다
5. **[GENERAL-005]** 장수의 현재 병력이 시각적으로 표시된다

---

## Epic 3: 이동 시스템

### Goal

장수의 이동 규칙을 구현하여 삼각형 타일 간 이동이 가능하도록 하고, 이동 가능 범위와 경로를 시각적으로 표시한다.

### Scope

**Includes:**
- 인접 타일 계산 (변 공유)
- 장수별 이동 범위 계산 (발 스탯 기반)
- 이동 가능 타일 하이라이트
- 이동 경로 미리보기
- 이동 실행 및 애니메이션
- 이동 불가 조건 (적 기물 경로 차단)

**Excludes:**
- 대각 이동 (기본적으로 불가, 책략으로만 가능)
- 책략에 의한 특수 이동 (Epic 7)

### Dependencies

- Epic 1: 보드 시스템 (타일 좌표)
- Epic 2: 장수 시스템 (발 스탯, 장수 위치)

### Deliverable

장수를 선택하면 이동 가능 타일이 표시되고, 탭하여 이동할 수 있는 상태

### Stories

1. **[MOVE-001]** 플레이어는 장수 선택 시 이동 가능 타일을 볼 수 있다
2. **[MOVE-002]** 플레이어는 이동 가능 타일을 탭하여 장수를 이동시킬 수 있다
3. **[MOVE-003]** 장수 이동 시 부드러운 애니메이션이 재생된다
4. **[MOVE-004]** 적 기물이 경로를 차단하면 이동 불가로 표시된다
5. **[MOVE-005]** 이동 전 경로 미리보기가 가능하다

---

## Epic 4: 전투 시스템

### Goal

해(Sun)/달(Moon)/전선(Frontline) 방향성 전투 시스템을 구현하여 장수 간 공격과 피해 계산이 가능하도록 한다.

### Scope

**Includes:**
- 공격 방향 판정 (해/달/전선)
- 방향별 스탯 적용 (Sun, Moon, 전선=1)
- 피해 계산 (공격 스탯 - 방어 스탯)
- 병력 감소 처리
- 장수 OUT 처리 (병력 0)
- 전투 애니메이션 및 이펙트
- 공격 범위 표시

**Excludes:**
- 책략에 의한 전투 보너스 (Epic 7)
- 반격 시스템 (scope 외)

### Dependencies

- Epic 1: 보드 시스템 (타일 방향)
- Epic 2: 장수 시스템 (스탯)
- Epic 3: 이동 시스템 (인접 판정)

### Deliverable

장수가 인접한 적을 공격할 수 있고, 방향에 따라 다른 피해가 적용되는 상태

### Stories

1. **[COMBAT-001]** 플레이어는 인접한 적 장수를 공격할 수 있다
2. **[COMBAT-002]** 공격 방향(해/달/전선)이 올바르게 판정된다
3. **[COMBAT-003]** 방향에 따른 스탯으로 피해가 계산된다
4. **[COMBAT-004]** 피해를 받은 장수의 병력이 감소한다
5. **[COMBAT-005]** 병력이 0이 된 장수는 OUT 처리된다
6. **[COMBAT-006]** 전투 시 시각적/청각적 피드백이 제공된다

---

## Epic 5: 턴 관리

### Goal

1:1 교대 턴 시스템을 구현하여 플레이어가 번갈아 행동하고, 턴 타이머가 동작하도록 한다.

### Scope

**Includes:**
- 턴 전환 로직 (Player A → Player B)
- 현재 턴 표시 UI
- 턴당 60초 타이머
- 타이머 초과 시 자동 턴 종료
- 턴 종료 버튼
- 게임 상태 관리 (대기, 진행, 종료)
- **턴당 행동 제한 시스템**:
  - 최대 3회 행동/턴
  - 동일 장수 동일 행동 제한 (같은 장수가 한 턴에 같은 행동 불가)
  - 행동 카운터 및 제한 UI

**Excludes:**
- 온라인 턴 동기화 (Epic 9)
- 시간 제한 옵션 (scope 외)

### Dependencies

- Epic 1-4: 기본 게임 시스템

### Deliverable

양 플레이어가 번갈아 턴을 진행하고, 60초 타이머가 동작하는 상태

### Stories

1. **[TURN-001]** 플레이어는 턴 종료 버튼으로 턴을 넘길 수 있다
2. **[TURN-002]** 현재 누구의 턴인지 UI에 표시된다
3. **[TURN-003]** 60초 타이머가 턴마다 동작한다
4. **[TURN-004]** 타이머 초과 시 자동으로 턴이 종료된다

---

## Epic 6: 승리 조건

### Goal

4가지 승리 조건(노크, 전멸, 와해, 항복)을 구현하여 게임이 올바르게 종료되도록 한다.

### Scope

**Includes:**
- 노크 승리 (끝 구역에서 노크 행동, 3회 누적 시 승리, 노크 후 장수 퇴각)
- 전멸 승리 (상대 병력 전부 소멸)
- 와해 승리 (상대 장수 모두 OUT)
- 항복 처리
- 승리/패배 화면
- 게임 종료 후 처리 (재대결, 메뉴)

**Excludes:**
- 시간 초과 점수 판정 (옵션, Phase 2+)
- 리플레이 저장 (Phase 3)

### Dependencies

- Epic 1-5: 전체 기본 게임 시스템

### Deliverable

게임이 승리 조건 달성 시 올바르게 종료되고, 결과 화면이 표시되는 상태

### Stories

1. **[WIN-001]** 플레이어는 끝 구역에서 노크 행동을 할 수 있다
2. **[WIN-002]** 노크 3회 성공 시 승리로 처리된다
3. **[WIN-003]** 상대 병력 전멸 시 승리로 처리된다
4. **[WIN-004]** 상대 장수 전원 OUT 시 와해 승리로 처리된다
5. **[WIN-005]** 플레이어는 항복을 선언할 수 있다

---

## Epic 7: 책략 시스템

### Goal

20개 책략(현장용 10개, 사무용 10개)을 구현한다. 책략 사용은 1 행동을 소모하며, 별도의 자원(TP 등)은 없다.

### Scope

**Includes:**
- 현장용 책략 10개 구현
- 사무용 책략 10개 구현
- 책략 선택 UI
- 책략 효과 적용
- 설치형 책략의 타일 효과

**Excludes:**
- 장수별 고유 책략 (Phase 3+)
- 책략 밸런스 조정 (지속적)

### Dependencies

- Epic 1-6: 기본 게임 시스템 전체

### Deliverable

모든 20개 책략이 사용 가능하고, 1 행동 소모로 발동되는 상태

### Stories

1. **[TACTIC-001]** 플레이어는 책략 메뉴에서 사용할 책략을 선택할 수 있다
2. **[TACTIC-002]** 책략 사용 시 1 행동이 소모된다
3. **[TACTIC-003]** 현장용 책략 "일격"이 올바르게 동작한다
4. **[TACTIC-004]** 현장용 책략 "돌파"가 올바르게 동작한다
5. **[TACTIC-005]** 현장용 책략 "도발"이 올바르게 동작한다
6. **[TACTIC-006]** 사무용 책략 "모병"이 올바르게 동작한다
7. **[TACTIC-007]** 사무용 책략 "매복"이 올바르게 동작한다
8. **[TACTIC-008]** 사무용 책략 "화계"가 올바르게 동작한다
9. **[TACTIC-009]** 나머지 현장용 책략들이 올바르게 동작한다
10. **[TACTIC-010]** 나머지 사무용 책략들이 올바르게 동작한다
11. **[TACTIC-011]** 설치형 책략이 타일에 효과를 남긴다

---

## Epic 8: UI/UX

### Goal

게임의 전체 UI를 구현하여 사용자가 직관적으로 게임을 플레이할 수 있도록 한다.

### Scope

**Includes:**
- 메인 메뉴
- 게임 HUD (턴 정보, 타이머, 점수)
- 장수 정보 패널
- 책략 선택 UI
- 설정 메뉴
- 승리/패배 화면
- 반응형 레이아웃
- 접근성 지원 (터치 타겟, 색맹 지원)

**Excludes:**
- 로그인/회원가입 UI (Epic 10)
- 매칭 대기 UI (Epic 9)

### Dependencies

- Epic 1: 보드 시스템 (기본 레이아웃)

### Deliverable

완성된 게임 UI로 원활한 플레이 경험이 가능한 상태

### Stories

1. **[UI-001]** 플레이어는 메인 메뉴에서 게임 모드를 선택할 수 있다
2. **[UI-002]** 게임 중 HUD에서 턴 정보와 타이머를 볼 수 있다
3. **[UI-003]** 장수 선택 시 상세 정보 패널이 표시된다
4. **[UI-004]** 책략 버튼으로 책략 선택 UI를 열 수 있다
5. **[UI-005]** 설정 메뉴에서 사운드/진동 등을 조절할 수 있다
6. **[UI-006]** 게임 종료 시 결과 화면이 표시된다
7. **[UI-007]** UI가 모바일/데스크톱에서 반응형으로 동작한다
8. **[UI-008]** 터치 타겟이 44x44px 이상으로 접근성을 준수한다

---

## Epic 9: 멀티플레이어

### Goal

온라인 1:1 대전 기능을 구현하여 다른 플레이어와 실시간 대전이 가능하도록 한다.

### Scope

**Includes:**
- Colyseus 게임 서버 연동
- 룸 생성/참가
- 매치메이킹 시스템
- 게임 상태 동기화
- 턴 동기화
- 연결 끊김 처리
- 재연결 로직

**Excludes:**
- 관전 모드 (Phase 3)
- 토너먼트 시스템 (Phase 3)

### Dependencies

- Epic 1-6: 기본 게임 로직
- Epic 8: UI/UX (매칭 UI)

### Deliverable

두 플레이어가 온라인으로 실시간 대전을 할 수 있는 상태

### Stories

1. **[MP-001]** 플레이어는 온라인 대전을 시작할 수 있다
2. **[MP-002]** 매치메이킹으로 상대방과 매칭된다
3. **[MP-003]** 게임 상태가 양쪽 클라이언트에 동기화된다
4. **[MP-004]** 턴 전환이 실시간으로 동기화된다
5. **[MP-005]** 상대방의 행동이 내 화면에 표시된다
6. **[MP-006]** 연결이 끊어지면 재연결을 시도한다
7. **[MP-007]** 재연결 실패 시 게임이 적절히 처리된다
8. **[MP-008]** 친구와 프라이빗 매치를 할 수 있다
9. **[MP-009]** 매칭 대기 중 취소할 수 있다
10. **[MP-010]** 네트워크 지연이 100ms 이하로 유지된다

---

## Epic 10: 계정/랭킹

### Goal

사용자 계정 시스템과 ELO 기반 랭킹 시스템을 구현하여 경쟁적인 플레이 환경을 제공한다.

### Scope

**Includes:**
- Supabase Auth 연동
- 소셜 로그인 (Google, Kakao)
- 게스트 플레이
- ELO 랭킹 시스템
- 티어 시스템 (장사 → 승상)
- 전적 기록 (승/패/승률)
- 리더보드

**Excludes:**
- 시즌 시스템 (Phase 3+)
- 시즌 보상 (Phase 3+)

### Dependencies

- Epic 9: 멀티플레이어 (온라인 대전 결과)

### Deliverable

로그인하여 랭크 매치를 플레이하고, 전적과 티어가 관리되는 상태

### Stories

1. **[ACCOUNT-001]** 플레이어는 Google/Kakao로 로그인할 수 있다
2. **[ACCOUNT-002]** 플레이어는 게스트로 플레이할 수 있다
3. **[ACCOUNT-003]** 대전 결과에 따라 ELO가 변동된다
4. **[ACCOUNT-004]** ELO에 따라 티어가 결정된다
5. **[ACCOUNT-005]** 플레이어는 자신의 전적을 볼 수 있다
6. **[ACCOUNT-006]** 리더보드에서 상위 랭커를 볼 수 있다
7. **[ACCOUNT-007]** 매치메이킹이 ELO 기반으로 동작한다

---

## Recommended Epic Sequence

### Phase 1 (MVP - 로컬 2인 대전)

```
Epic 1: 보드 시스템
    ↓
Epic 2: 장수 시스템
    ↓
Epic 3: 이동 시스템
    ↓
Epic 4: 전투 시스템
    ↓
Epic 5: 턴 관리
    ↓
Epic 6: 승리 조건
    ↓
Epic 8: UI/UX (기본)
```

**Phase 1 완료 시:** 로컬에서 2인이 번갈아 플레이할 수 있는 완전한 게임

### Phase 2 (온라인 대전)

```
Epic 9: 멀티플레이어
    ↓
Epic 10: 계정/랭킹 (기본)
    ↓
Epic 8: UI/UX (확장)
```

**Phase 2 완료 시:** 온라인 매칭으로 다른 플레이어와 대전 가능

### Phase 3 (풀 게임)

```
Epic 7: 책략 시스템
    ↓
Epic 10: 계정/랭킹 (확장)
```

**Phase 3 완료 시:** 20개 책략과 시즌 시스템이 포함된 완전한 게임

---

## Vertical Slice Definition

**Phase 1 목표 - 첫 플레이 가능 마일스톤:**

핵심 게임플레이를 검증하기 위한 최소 기능:

1. ✅ 34타일 삼각형 보드 렌더링
2. ✅ 양측 장수 5명씩 배치
3. ✅ 이동 시스템 (발 스탯 기반)
4. ✅ 방향성 전투 (해/달/전선)
5. ✅ 노크 승리 조건
6. ✅ 로컬 2인 대전

이 Vertical Slice로 "삼각형 보드 + 방향성 전투"라는 핵심 게임플레이의 재미를 검증합니다.

---

## Document Information

**Document:** 오호대장군 Development Epics
**Version:** 1.0
**Created:** 2026-02-03
**Source:** GDD Step 12 - Epic Structure
