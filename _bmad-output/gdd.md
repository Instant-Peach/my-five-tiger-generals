---
stepsCompleted: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
inputDocuments:
  - path: "_bmad-output/game-brief.md"
    type: "brief"
    description: "BMGD Game Brief - 게임 비전 및 핵심 컨셉"
  - path: "docs/project-plan/02-game-rules.md"
    type: "reference"
    description: "기존 게임 규칙 문서 (SSOT)"
  - path: "docs/project-plan/01-project-overview.md"
    type: "reference"
    description: "프로젝트 개요 - 비전, 배경, 단계별 목표"
  - path: "../my-five-tiger-generals-legacy/docs/tatic.md"
    type: "reference"
    description: "레거시 전술 시스템 (20개 전술 상세)"
  - path: "../my-five-tiger-generals/bmad-docs/epics.md"
    type: "reference"
    description: "레거시 에픽/스토리 (56 FR, 10 에픽)"
  - path: "../my-five-tiger-generals/bmad-docs/02-architecture/system-architecture.md"
    type: "reference"
    description: "레거시 시스템 아키텍처"
documentCounts:
  briefs: 1
  research: 0
  brainstorming: 0
  projectDocs: 5
workflowType: "gdd"
lastStep: 14
project_name: "five-tiger-generals"
user_name: "CHOI"
date: "2026-02-03"
game_type: "turn-based-tactics"
game_name: "오호대장군 (Five Tiger Generals)"
---

# 오호대장군 (Five Tiger Generals) - Game Design Document

**Author:** CHOI
**Game Type:** Turn-Based Tactics (턴제 전술 게임)
**Target Platform(s):** 모바일 웹 (PWA) > 데스크톱 웹 > 네이티브 앱

---

## Executive Summary

### Game Name

오호대장군 (Five Tiger Generals)

### Core Concept

오호대장군은 삼국지 테마를 기반으로 한 1:1 턴제 전략 보드게임입니다. 유비 휘하 다섯 명의 명장(관우, 장비, 조운, 황충, 마초)을 지휘하여 상대방과 전략적 대결을 펼칩니다.

게임의 핵심은 독특한 **삼각형 테셀레이션 보드**(34타일)와 **해(Sun)/달(Moon)/전선(Frontline)** 방향성 전투 시스템입니다. 삼각형 타일의 방향(Up/Down)과 공격 방향에 따라 전투 결과가 달라지며, 이는 기존 사각형 기반 전략 게임과 차별화된 전술적 깊이를 제공합니다.

"배우기 쉽고 마스터하기 어렵다"는 철학 아래, 20-40분 내에 한 판을 완료할 수 있는 빠른 플레이를 지향합니다. 모바일 웹 우선 개발로 언제 어디서나 접근 가능하며, Pay-to-Win 요소 없이 순수 실력으로 경쟁하는 공정한 게임 환경을 제공합니다.

### Game Type

**Type:** Turn-Based Tactics (턴제 전술 게임)
**Framework:** 이 GDD는 turn-based-tactics 템플릿을 사용하며, 다음 타입별 섹션을 포함합니다:
- Grid System and Movement (삼각형 보드 시스템)
- Unit Types and Classes (오호대장군 장수 시스템)
- Action Economy (턴 구조와 행동 시스템)
- Positioning and Tactics (방향성 전투와 전술)
- Terrain and Environmental Effects (지형 효과)

### Target Audience

| 세그먼트 | 특성 | 니즈 |
|---------|------|------|
| **전략 게임 매니아** | 체스, 장기, 바둑, 전술 RPG 경험자 | 새로운 전략적 도전 |
| **삼국지 팬** | 삼국지 IP 선호, 장수 캐릭터에 친숙 | 테마와 몰입감 |
| **캐주얼 모바일 게이머** | 짧은 세션 선호 | 빠른 한 판, 간편한 조작 |

### Unique Selling Points (USPs)

1. **삼각형 테셀레이션 보드** - 기존 사각형/육각형 보드와 차별화된 독특한 전술 공간
2. **방향성 전투 시스템** - 해/달/전선 공격 방향에 따른 전략적 깊이
3. **다양한 삼국지 장수** - 각각 고유한 스탯과 능력을 가진 캐릭터 풀
4. **빠른 게임 템포** - 20-40분 내 완료, 모바일 친화적
5. **공정한 경쟁** - Pay-to-Win 없는 순수 실력 기반

---

## Target Platform(s)

### Primary Platform

**모바일 웹 (PWA)** - Progressive Web App으로 앱 설치 없이 브라우저에서 즉시 플레이

### Platform Priority

| 순위 | 플랫폼 | 배포 방식 | 비고 |
|-----|--------|----------|------|
| 1 | 모바일 웹 | Cloudflare Pages | PWA, 오프라인 지원 |
| 2 | 데스크톱 웹 | Cloudflare Pages | 동일 코드베이스 |
| 3 | 네이티브 앱 | App Store / Play Store | Phase 3 이후 |

### Platform Considerations

- **터치 우선 UI**: 모바일 최적화, 데스크톱은 마우스로 동일하게 동작
- **반응형 레이아웃**: 다양한 화면 크기 대응
- **오프라인 지원**: PWA 캐싱으로 불안정한 네트워크에서도 UI 유지
- **60fps 목표**: Phaser 3 WebGL 렌더링 최적화

### Control Scheme

| 플랫폼 | 입력 방식 | 주요 인터랙션 |
|--------|----------|--------------|
| 모바일 | 터치 | 탭으로 선택, 드래그로 이동 경로 확인 |
| 데스크톱 | 마우스 | 클릭 선택, 호버로 정보 표시 |

---

## Target Audience Details

### Demographics

| 항목 | 상세 |
|------|------|
| **연령대** | 20-40대 |
| **지역** | 한국 우선, 동아시아 확장 가능 |

### Gaming Experience

**중급 (Intermediate)** - 기본적인 전략 게임 문법을 이해하는 플레이어

### Genre Familiarity

**중간~높음** - 체스/장기 또는 전술 RPG 경험자가 주 타겟. 삼각형 보드와 해/달/전선 시스템은 새로운 경험이므로 튜토리얼 필수.

### Session Length

**20-40분** - 점심시간이나 이동 중에 한 판 완료 가능

### Player Motivations

| 동기 | 설명 |
|------|------|
| **지적 도전** | 새로운 전략 시스템 마스터 |
| **경쟁심** | 다른 플레이어와의 실력 대결 |
| **성취감** | 랭킹 상승, 승률 개선 |
| **삼국지 향수** | 익숙한 캐릭터와 테마 |

---

## Goals and Context

### Project Goals

1. **플레이 가능한 데모 우선**
   - Phase 1: 2인 로컬 플레이 데모 완성
   - Phase 2: 1:1 온라인 매칭 시스템
   - Phase 3: 전술 시스템, 계정, 랭킹 등 풀 게임

2. **전략적 깊이와 접근성의 균형**
   - "배우기 쉽고 마스터하기 어렵다"
   - 삼각형 보드와 방향성 전투로 기존 게임과 차별화

3. **모바일 웹 최적화**
   - PWA로 앱 설치 없이 즉시 플레이
   - 60fps 안정적 렌더링
   - 터치 친화적 UI

4. **유연한 IP 전략**
   - 초기: 팬 게임으로 특정 커뮤니티 타겟
   - 상업화: 일반 삼국지 IP로 전환 가능한 설계

### Background and Rationale

이 프로젝트는 두 가지 기존 레포지토리(Legacy, Main)의 장점을 결합하여 처음부터 깔끔하게 재구축합니다.

**왜 이 게임인가?**
- 삼국지 테마의 전략 게임은 시장에 많지만, 삼각형 보드를 사용한 게임은 없음
- 해/달/전선 방향성 전투는 기존 전술 게임에서 볼 수 없는 독특한 시스템
- 20-40분 세션으로 모바일 친화적이면서도 전략적 깊이 유지

**왜 지금인가?**
- PWA 기술 성숙으로 웹에서도 네이티브급 게임 경험 가능
- Phaser 3, Colyseus 등 웹 게임 기술 스택 안정화
- 좋아하는 유튜버 팬 커뮤니티에 선물할 적기

### Competitive Positioning

| 경쟁 게임 | 차별점 |
|----------|--------|
| 체스/장기 | 삼각형 보드, 방향성 전투, 다양한 장수 능력 |
| 파이어 엠블렘 | 빠른 세션 (20-40분), 웹 접근성, 1:1 PvP 집중 |
| Auto Chess류 | 직접 유닛 조작, 순수 전략 (운 요소 최소화) |
| 삼국지 모바일 게임 | Pay-to-Win 없음, 실력 기반 경쟁 |

---

## Core Gameplay

### Game Pillars

1. **전략적 깊이 (Strategic Depth)**
   - 단순한 규칙 세트로 복잡한 전략적 상황 생성
   - 삼각형 보드와 방향성 전투로 공간 활용의 깊이 제공
   - "배우기 쉽고 마스터하기 어렵다"

2. **빠른 템포 (Quick Tempo)**
   - 20-40분 내 한 판 완료
   - 턴당 결정 시간 제한으로 긴장감 유지
   - 불필요한 대기 시간 최소화

3. **공정한 경쟁 (Fair Competition)**
   - 운 요소 최소화, 순수 전략 기반
   - Pay-to-Win 요소 배제
   - 동일한 조건에서 시작, 실력으로 결판

**Pillar Prioritization:** 충돌 시 우선순위
1. 전략적 깊이 > 2. 공정한 경쟁 > 3. 빠른 템포

### Core Gameplay Loop

**한 턴의 구조:**

```
[준비 단계] → 병력 배치 확인

[플레이어 턴] → 기물 선택 → 행동 선택 (이동/공격/전술) → 행동 실행 → 결과 확인

[상대 턴] → 상대 행동 관찰 → 전략 수정

[반복] → 승리 조건 확인 → 다음 턴
```

**Loop Timing:**
- 1턴: 30초~1분
- 전체 게임: 20-40분 (20-40턴)

**Loop Variation:**
- 장수별 고유 스탯으로 다른 전술 옵션
- 해/달/전선 방향에 따라 전투 결과 변화
- 전술 카드 사용으로 예상치 못한 전개
- 보드 위치에 따른 전략적 가치 변화

### Win/Loss Conditions

#### Victory Conditions (4가지)

| 조건 | 설명 | 난이도 |
|------|------|--------|
| **노크 승리** | 상대에게 노크 행동 3회 누적 시 승리 (노크 후 장수 퇴각) | 일반적 |
| **전멸 승리** | 상대 병력 전부 소멸 | 어려움 |
| **와해 승리** | 상대 장수 모두 완전 퇴장 (일시 OUT 제외) | 어려움 |
| **항복** | 상대 항복 선언 | - |

#### Failure Conditions

- 상대가 위 승리 조건 중 하나를 달성
- 제한 시간 초과 시 점수 계산으로 판정 (옵션)

#### Failure Recovery

- **즉시 재대결**: 같은 상대와 바로 재경기
- **매치메이킹**: 새로운 상대와 매칭
- **리플레이 분석**: 패배 원인 분석 (Phase 3)

---

## Game Mechanics

### Primary Mechanics

#### 1. 이동 (Movement)
- **사용 빈도**: 매 턴 (상시)
- **테스트하는 스킬**: 포지셔닝, 전략적 사고
- **상세**:
  - 삼각형 타일 간 이동
  - 인접 타일(변 공유) vs 대각 타일(꼭짓점 공유) 구분
  - 장수별 이동력 스탯에 따라 이동 범위 결정
  - 경로 상 적 기물 존재 시 이동 불가

#### 2. 공격 (Combat)
- **사용 빈도**: 상황적 (적과 인접 시)
- **테스트하는 스킬**: 방향 판단, 스탯 계산, 타이밍
- **상세**:
  - **해(Sun) 공격** ☀️: 우측 대각선, Sun 스탯 사용
  - **달(Moon) 공격** 🌙: 좌측 대각선, Moon 스탯 사용
  - **전선(Frontline) 공격** ⚔️: 수평 방향, 교착 상태 유발
  - 공격자 스탯 vs 방어자 스탯 비교로 결과 판정
  - 피해량 = 공격 스탯 - 방어 스탯 (최소 0)

#### 3. 책략 사용 (Tactics)
- **사용 빈도**: 선택적 (전략적 순간)
- **테스트하는 스킬**: 타이밍, 상황 판단
- **상세**:
  - **현장용 책략 (10개)**: 필드에서 즉시 사용 (일격, 돌파, 도발 등)
  - **사무용 책략 (10개)**: 전략적/원거리 효과 (모병, 매복, 화계 등)
  - 1 행동 소모 (다른 행동과 동일)
  - 장수별 사용 가능 책략 제한

#### 4. 노크 (Knock)
- **사용 빈도**: 게임 후반 (승리 조건)
- **테스트하는 스킬**: 목표 달성, 방어 돌파
- **상세**:
  - 상대 끝 구역(End Zone) 도달 필요
  - 도달 후 별도의 노크 행동 수행 (1 행동 소모)
  - 노크 성공 후 해당 장수는 퇴각 처리 (OUT 상태, 보드에서 제거)
  - 노크 카운트는 게임 전체 누적값 (리셋 없음)
  - 상대의 노크 카운트가 3에 도달하면 패배 (노크 = 목숨 개념)

### Mechanic Interactions

| 조합 | 상호작용 |
|------|----------|
| 이동 + 공격 | 위치 선점으로 유리한 방향 공격 확보 |
| 공격 + 전술 | 전술로 공격력 버프 또는 특수 효과 추가 |
| 이동 + 전술 | 매복, 기만 등으로 이동 트랩 설치 |
| 전술 + 노크 | 노크 시도 전 방어선 무력화 |

### Mechanic Progression

- **Phase 1 (MVP)**: 이동, 공격, 노크만 구현
- **Phase 2**: 기본 전술 5개 추가
- **Phase 3**: 전체 20개 전술 + 장수별 고유 전술

---

## Controls and Input

### Control Scheme (모바일 웹)

| 행동 | 터치 제스처 | 마우스 (데스크톱) |
|------|------------|------------------|
| 기물 선택 | 탭 | 클릭 |
| 이동 가능 타일 확인 | 길게 누르기 | 호버 |
| 이동 실행 | 목적지 탭 | 목적지 클릭 |
| 공격 방향 선택 | 스와이프 방향 | 방향 버튼 클릭 |
| 전술 메뉴 열기 | 전술 버튼 탭 | 전술 버튼 클릭 |
| 턴 종료 | 턴 종료 버튼 | 턴 종료 버튼 / Space |

### Input Feel

- **반응성**: 탭/클릭 즉시 피드백 (시각적 하이라이트)
- **명확성**: 선택된 기물, 이동 가능 범위, 공격 범위 명확히 표시
- **실수 방지**: 확인 단계 (행동 전 미리보기)
- **취소 가능**: 행동 확정 전 다른 곳 탭으로 취소

### Accessibility Controls

- **터치 타겟**: 최소 44x44px (모바일 접근성 기준)
- **색맹 지원**: 색상 외 패턴/아이콘으로 구분
- **텍스트 크기**: 조절 가능
- **애니메이션 감소**: 모션 민감 유저를 위한 옵션

---

## Turn-Based Tactics Specific Design

### Grid System and Movement

#### Grid Type: 삼각형 테셀레이션 (Triangular Tessellation)

- **총 타일 수**: 34개 (메인 30 + 측면 4)
- **타일 방향**: Up(▲) / Down(▽) - 방향에 따라 인접 타일 구성 다름
- **보드 레이아웃**: 5x6 + 양측 측면 타일
- **구현 참고**: 이전 프로젝트(legacy)의 그리드 시스템 코드 참고
- **중요**: 비주얼 구현 후 반드시 사용자 확인 필요

#### 타일 구역

**서버/데이터 관점 (고정 정의):**

| 구역 | 타일 | 설명 |
|------|------|------|
| **player1_home** | row 5 (타일 25-29) | player1 시작 배치 = player2의 노크 목표 |
| **player2_home** | row 0 (타일 0-4) | player2 시작 배치 = player1의 노크 목표 |
| **center** | row 1-4 (타일 5-24) | 중앙 구역 |
| **side** | 타일 30-33 | 양측 측면 특수 타일 |

**클라이언트 관점 (상대적 개념):**

| 내 화면 위치 | player1 클라이언트 | player2 클라이언트 |
|-------------|-------------------|-------------------|
| **화면 아래 (내 home)** | row 5 (player1_home) | row 0 (player2_home) |
| **화면 위 (상대 home)** | row 0 (player2_home) | row 5 (player1_home) |

- 각 플레이어는 자신의 home이 화면 아래, 상대의 home이 화면 위로 표시됨
- player2 클라이언트는 보드를 180도 회전하여 렌더링
- 색상: 자신 = 파란색, 상대 = 빨간색 (클라이언트 기준)

*지형 효과(숲, 물 등)는 없음. 설치형 책략으로 인한 효과만 존재.*

#### Movement Rules

- **인접 이동만 지원**: 변을 공유하는 타일로만 이동
- **대각 이동 불가**: 기본적으로 꼭짓점만 공유하는 타일로는 이동 불가
- **조건부 대각 이동**: 특정 책략 사용 시에만 가능
- **장수별 발(이동력)**: 발 스탯에 따라 이동 범위 결정
- **이동 차단**: 다른 장수(아군/적군)가 위치한 타일로는 이동 불가

#### Pathfinding Visualization

- 선택 시 이동 가능 타일 하이라이트
- 드래그로 경로 미리보기
- 적 기물 위치로 인한 이동 불가 표시

#### 경로 지정 시스템 (Path Planning) - Phase 2+ 확장

> **Note**: 현재(Phase 1)는 이동력 범위 전체를 하이라이트하고 목적지 클릭으로 즉시 이동합니다.
> 아래 시스템은 Phase 2 이후 확장 기능으로 계획되어 있습니다.

**컨셉**: 장수 이동 시 1칸씩 경로를 지정하여 정확한 이동 경로를 사용자가 제어

**동작 방식**:
1. 장수 선택 시: 1칸 인접 타일만 하이라이트 (현재 위치 기준)
2. 첫 번째 타일 클릭: 해당 타일이 경로에 추가되고, 새 위치 기준으로 다음 1칸 하이라이트
3. 반복: 이동력(발 스탯)만큼 경로 지정 가능
4. 이동력 소진 전: 목적지 클릭 또는 "이동 확정" 버튼으로 이동 실행
5. 경로 지정 중: "되돌리기" 버튼으로 경로에서 1칸씩 제거 가능

**장점**:
- 정확한 이동 경로 제어 (우회 경로 선택 가능)
- 부분 이동 용이 (이동력 중 일부만 사용)
- 전략적 의사결정 명확화

**UX 고려사항**:
- 드래그 제스처로 빠른 경로 지정 (모바일 최적화)
- 경로 시각화 (지나온 타일 연결선 표시)
- 되돌리기/취소 용이성

---

### Unit Types and Classes

#### 장수 (Generals) 시스템

다양한 삼국지 장수들이 등장하며, 각각 고유한 스탯을 보유합니다.

**장수 보유와 배치 개념:**

| 개념 | 설명 |
|------|------|
| **계정 보유 장수** | 플레이어가 해금/수집한 장수 목록 (5명 이상 가능) |
| **게임 슬롯** | 한 게임에서 사용할 수 있는 장수 수 (최대 5명) |
| **출전 대기** | 게임 시작 시 슬롯에 배정되었으나 아직 보드에 없는 상태 |
| **출전 중 (배치됨)** | 보드 위에 실제로 배치된 상태 |
| **퇴장 (OUT)** | 병력 0으로 보드에서 제외된 상태 |

**MVP (Phase 1):**
- 기본 장수 5명 고정 제공 (관우, 장비, 조운, 황충, 마초)
- 게임 시작 시 자동 배치 (출전 행동 생략)
- 모든 장수가 최대 병력으로 시작

**Phase 3+ 확장:**
- 다양한 장수 해금 시스템
- 게임 전 장수 5명 선택 (덱 빌딩)
- 수동 출전 시스템 (배치 타이밍, 병력 조절 전략)

**장수 스탯 구조:**

| 스탯 | 표시명 | 설명 |
|------|--------|------|
| **별** | 별 ⭐ | 최대 병력 수 (최대 HP) |
| **병력** | 병력 | 현재 군사 규모 (현재 HP), 0 이하 시 OUT |
| **해(Sun)** | 해 ☀️ | 우측 대각선 공격/방어력 |
| **달(Moon)** | 달 🌙 | 좌측 대각선 공격/방어력 |
| **발** | 발 👣 | 한 턴에 이동 가능한 거리 |

**예시 장수들 (밸런스 조정용):**

| 장수 | 별 | Sun | Moon | 발 |
|------|-----|-----|------|-----|
| 관우 | 5 | 4 | 4 | 2 |
| 장비 | 4 | 5 | 3 | 2 |
| 조운 | 4 | 3 | 4 | 3 |
| 황충 | 3 | 5 | 2 | 2 |
| 마초 | 5 | 4 | 3 | 3 |

*실제 게임에서는 더 많은 장수가 추가됩니다.*

#### 병력 시스템

- 각 장수는 **별** 수치만큼 최대 병력 보유 가능
- **병력** = 현재 군사 규모 (전투 중 증감)
- 병력 0 → 장수 일시 OUT
- 모든 장수 OUT → 와해 패배

---

### Action Economy

#### Turn Structure

**1:1 교대 턴 방식 (Alternating Turns)**

```
Player A Turn → Player B Turn → Player A Turn → ...
```

#### Actions Per Turn

**턴당 행동 제한:**
- **최대 3회 행동**: 한 턴에 최대 3번의 행동 가능
- **동일 장수 동일 행동 제한**: 같은 장수가 같은 턴에 동일한 행동을 두 번 수행할 수 없음
  - 예: 관우가 이동 후 같은 턴에 다시 이동 불가
  - 예: 관우가 이동 후 공격은 가능 (다른 행동)
  - 예: 관우가 이동 후, 장비가 이동하는 것은 가능 (다른 장수)

| 행동 유형 | 비용 | 설명 |
|----------|------|------|
| **출전** | 1 행동 | 보유 장수를 보드에 배치 (병력 지정) |
| **이동** | 1 행동 | 발 범위 내 타일로 이동 |
| **공격** | 1 행동 | 인접 적에게 방향성 공격 |
| **책략** | 1 행동 | 책략 발동하여 특수 효과 |
| **노크** | 1 행동 | 끝 구역에서 승리 행동 |
| **대기** | 0 행동 | 턴 종료 |

#### 출전 (Deployment) 행동

장수를 보드에 배치하는 행동입니다.

- **전제 조건**: 해당 장수가 아직 보드에 배치되지 않은 상태
- **배치 위치**: 자신의 home 구역 (player1: row 5, player2: row 0) 내 빈 타일
- **병력 지정**: 배치 시 병력 수를 지정 (1 ~ 별 스탯 범위)
- **전략적 선택**: 적은 병력으로 빠르게 배치 vs 최대 병력으로 강하게 배치

**MVP (Phase 1) 간소화:**
- 게임 시작 시 5명의 장수가 자동으로 최대 병력으로 배치됨
- 출전 행동은 Phase 3에서 수동 배치 시스템과 함께 활성화

#### Time Limits

- **턴당 60초** (온라인/로컬 동일)
- 시간 초과 시 자동 턴 종료

---

### Positioning and Tactics

#### 방향성 전투 (Directional Combat)

핵심 전술 요소: **공격 방향에 따라 적용되는 스탯이 다름**

| 방향 | 아이콘 | 공격력 | 특성 |
|------|--------|--------|------|
| **해(Sun)** | ☀️ | Sun 스탯 | 우측 대각선 공격 |
| **달(Moon)** | 🌙 | Moon 스탯 | 좌측 대각선 공격 |
| **전선(Frontline)** | ⚔️ | **1 (고정)** | 수평 방향, 최소 피해 |

#### Tactical Considerations

- **방향 우위**: 상대의 약한 방향(낮은 Sun/Moon)으로 공격
- **포지션 선점**: 유리한 공격 각도 확보
- **협공**: 여러 방향에서 동시 압박
- **퇴로 차단**: 상대 이동 경로 봉쇄
- **전선 공격 활용**: 확실한 1 피해로 마무리

#### 책략 시스템 (Tactics System)

**20개 책략** (Phase 3에서 전체 구현)

**현장용 책략 (10개)** - 필드에서 즉시 효과:
- 일격, 불괴, 보병장력, 돌파, 도발, 고오급 당근, 충차, 연노, 역습, 황충

**사무용 책략 (10개)** - 전략적/원거리 효과:
- 위보, 모병, 매복, 기만, 화계, 토벽, 망루, 함정, 화타, 투석

*일부 설치형 책략은 타일에 효과를 남길 수 있음*

---

### Campaign Structure

> **Note**: 이 게임은 1:1 PvP에 집중하므로 캠페인 모드는 Phase 3+ 확장 범위입니다.

#### MVP (Phase 1-2): PvP Focus

- 로컬 2인 대전 (턴당 60초)
- 온라인 1:1 매칭 (턴당 60초)
- 랭크 매치 (ELO 기반)

#### 향후 확장 (Phase 3+)

- 튜토리얼 캠페인 (AI 상대)
- 챌린지 모드 (특수 조건)

---

## Progression and Balance

### Player Progression

#### Progression Types

| 유형 | 적용 여부 | 설명 |
|------|----------|------|
| **스킬 진행** | ✅ 핵심 | 플레이어가 게임을 이해하고 실력 향상 |
| **소셜/랭킹** | ✅ 핵심 | ELO 랭킹, 승률, 랭크 티어 |
| **콘텐츠** | ⚪ 부분 | 새 장수 해금 (Phase 3+) |
| **수집** | ⚪ 부분 | 장수 컬렉션, 업적 (Phase 3+) |
| **파워** | ❌ 없음 | 캐릭터 스탯 강화 없음 (Pay-to-Win 방지) |
| **내러티브** | ❌ 없음 | 스토리 진행 없음 |

#### 핵심 진행 요소

1. **실력 향상 (Skill Mastery)**
   - 삼각형 보드의 공간 감각 습득
   - 해/달/전선 방향 전투 최적화
   - 책략 타이밍과 조합 학습
   - 상대 패턴 읽기

2. **랭킹 시스템 (Phase 2+)**
   - ELO 기반 매치메이킹
   - 티어 시스템: 장사 → 현령 → 태수 → 자사 → 사도 → 승상
   - 시즌별 리셋 및 보상

3. **장수 해금 (Phase 3+)**
   - 초기: 기본 장수 5명 제공
   - 게임 플레이로 새 장수 해금
   - 장수별 전략 다양화

#### Progression Pacing

- **첫 판 (0-30분)**: 기본 규칙 학습
- **5판 (2-3시간)**: 방향성 전투 이해
- **20판 (10시간+)**: 포지셔닝 감각 형성
- **100판+**: 고급 전략 습득

### Difficulty Curve

#### 패턴: Flat + Player-controlled (Matchmaking)

이 게임은 **PvP 중심**이므로 난이도는 상대방 실력에 의해 결정됩니다.

| 요소 | 설명 |
|------|------|
| **게임 자체 난이도** | 일정 (Flat) - 규칙은 동일 |
| **상대 난이도** | 매치메이킹으로 조절 - 비슷한 실력 매칭 |
| **학습 곡선** | 튜토리얼 → AI 연습 → 랭크 매치 |

#### Challenge Scaling

- **뉴비 보호**: 초기 10판은 비슷한 신규 유저끼리 매칭
- **ELO 기반 매칭**: 승률 50% 수렴하도록 조정
- **연패 보호**: 연속 패배 시 하위 티어와 매칭 확률 증가

#### Difficulty Options

- **연습 모드**: AI 상대 (난이도 선택 가능)
- **로컬 대전**: 같은 기기에서 친구와 대전
- **랭크 매치**: ELO 기반 자동 난이도 조절
- **턴 제한 시간**: 60초 고정 (조절 불가 - 공정성)

### Economy and Resources

#### 게임 내 자원

**이 게임은 별도의 자원 시스템이 없습니다.**

- 책략 사용 = 1 행동 소모 (다른 행동과 동일)
- 턴당 3회 행동 제한이 유일한 제약
- 별도의 마나/포인트 개념 없음

#### 게임 외 경제 (Phase 3+)

- **무료 플레이**: 기본 장수로 모든 기능 이용 가능
- **장수 해금**: 게임 플레이로 획득 (시간 투자)
- **코스메틱**: 스킨, 이모지 등 (Pay-to-Win 아님)
- **유료 옵션**: 장수 즉시 해금 (시간 단축만, 성능 차이 없음)

---

## Level Design Framework

### Structure Type

**Arena/Match 구조** - 자기 완결형 대전 공간

이 게임은 레벨 기반이 아닌 **단일 보드에서 매치를 진행**하는 구조입니다.
- 모든 대전이 동일한 34타일 삼각형 보드에서 진행
- "레벨"은 존재하지 않음
- 매 게임이 독립적인 대전

### Board Layout (맵)

#### 기본 보드

| 항목 | 상세 |
|------|------|
| **보드 형태** | 삼각형 테셀레이션 |
| **타일 수** | 34개 (메인 30 + 측면 4) |
| **대칭** | 좌우 대칭 (공정성) |
| **구역** | 시작 구역, 일반 구역, 측면 |

#### 보드 변형 (Phase 3+ 확장)

| 변형 | 설명 | Phase |
|------|------|-------|
| **기본 보드** | 표준 34타일 | MVP |
| **확장 보드** | 더 넓은 전장 (옵션) | Phase 3+ |
| **변형 보드** | 특수 레이아웃 (토너먼트용) | Phase 3+ |

### Tutorial Integration

#### 튜토리얼 단계 (Phase 2+)

1. **이동 튜토리얼**: 삼각형 타일 간 이동 학습
2. **전투 튜토리얼**: 해/달/전선 방향 공격 학습
3. **승리 조건 튜토리얼**: 노크 승리 방법 학습
4. **AI 연습**: 쉬운 AI와 전체 게임 플레이

#### 튜토리얼 원칙

- **플레이를 통한 학습**: 텍스트 설명 최소화
- **점진적 복잡도**: 한 번에 하나의 개념만
- **즉시 실습**: 설명 직후 바로 실행

### Game Mode Types

| 모드 | 설명 | Phase |
|------|------|-------|
| **로컬 대전** | 같은 기기에서 2인 대전 | MVP |
| **온라인 대전** | 1:1 온라인 매칭 | Phase 2 |
| **랭크 매치** | ELO 기반 경쟁전 | Phase 2 |
| **AI 연습** | AI 상대 연습 | Phase 2 |
| **관전 모드** | 다른 유저 경기 관전 | Phase 3 |
| **토너먼트** | 대회 모드 | Phase 3+ |

### Replayability

#### 매 게임의 다양성

- **장수 선택**: 다양한 장수 조합
- **전략 다양성**: 공격적/방어적/균형적 플레이스타일
- **상대방 변수**: 매번 다른 상대의 전략
- **책략 조합**: 20개 책략의 다양한 활용

#### 재도전 시스템

- **즉시 재대결**: 같은 상대와 바로 재경기
- **리플레이 저장**: 경기 기록 저장 및 분석 (Phase 3)
- **통계 추적**: 승률, 선호 장수, 전략 패턴

### Level Design Principles

이 게임에서 "레벨 디자인"은 **보드 레이아웃 설계**를 의미합니다:

1. **완벽한 대칭**: 양 플레이어에게 동일한 조건
2. **다양한 경로**: 중앙/측면 등 다양한 진입로
3. **전략적 가치**: 특정 타일이 전략적으로 중요
4. **시각적 명확성**: 구역과 방향이 직관적으로 인식

---

## Art and Audio Direction

### Art Style

**레트로 픽셀 아트 (Retro Pixel Art)**

삼국지 테마와 어울리는 클래식한 픽셀 아트 스타일. 복잡한 3D 그래픽 대신 명확하고 읽기 쉬운 2D 비주얼 추구.

#### Visual References

- **게임**: 파이어 엠블렘 GBA 시리즈, 삼국지 조조전
- **스타일**: 16-32bit 시대 SRPG 느낌
- **캐릭터**: 삼국지 장수 초상화 + 보드 위 기물

#### Color Palette

| 용도 | 색상 방향 |
|------|----------|
| **보드** | 차분한 갈색/베이지 톤 (나무/종이 느낌) |
| **플레이어 1** | 붉은색 계열 (촉한/유비군 이미지) |
| **플레이어 2** | 푸른색 계열 (위/조조군 이미지) |
| **강조** | 황금색 (승리, 중요 정보) |
| **위험** | 빨간색 (피해, 경고) |

#### Camera and Perspective

- **시점**: 탑다운 (Top-Down) 또는 약간의 기울기 (Isometric-lite)
- **줌**: 전체 보드가 화면에 보이는 것이 기본
- **확대**: 전투 시 해당 영역 확대 애니메이션 (옵션)

#### Character Design

- **장수 초상화**: 삼국지 장수 일러스트 (팬 게임 버전에서는 유튜버 얼굴)
- **보드 기물**: 심플한 아이콘/토큰 형태
- **차별화**: 색상 + 장수 심볼로 구분

### Audio and Music

**8-bit / Chiptune 기반**

레트로 픽셀 아트와 어울리는 8비트 스타일 음악과 효과음.

#### Music Style

| 상황 | 음악 스타일 |
|------|------------|
| **메인 메뉴** | 웅장한 8비트 삼국지 테마 |
| **대전 중** | 긴장감 있는 전략 BGM |
| **승리** | 승리 팡파레 |
| **패배** | 차분한 패배 테마 |

#### Sound Design

| 효과음 | 스타일 |
|--------|--------|
| **이동** | 짧은 "뿅" 사운드 |
| **공격** | 타격감 있는 8비트 충돌음 |
| **피해** | 병력 감소 효과음 |
| **책략** | 마법/특수 효과음 |
| **노크** | 특별한 승리 진행 효과음 |
| **UI** | 클릭/선택 피드백 |

#### Voice/Dialogue

**없음 (No Voice)**

- 텍스트 기반 UI
- 효과음으로 피드백 전달
- 장수 선택 시 짧은 음성 클립 (Phase 3+ 옵션)

### Aesthetic Goals

| 필러 | 아트/오디오 지원 |
|------|-----------------|
| **전략적 깊이** | 명확한 시각적 정보 전달, 방향/스탯 즉시 인식 |
| **빠른 템포** | 빠른 애니메이션, 반응적 사운드 |
| **공정한 경쟁** | 양 플레이어 명확히 구분되는 색상 |

---

## Technical Specifications

### Performance Requirements

#### Frame Rate Target

**60fps** - 모바일/데스크톱 모두 동일

- 턴제 게임이지만 애니메이션 부드러움 중요
- Phaser 3 WebGL 렌더링 최적화

#### Resolution Support

| 플랫폼 | 해상도 |
|--------|--------|
| 모바일 | 반응형 (320px ~ 430px 너비 기준) |
| 태블릿 | 768px ~ 1024px |
| 데스크톱 | 1080p ~ 4K (스케일링) |

#### Load Times

- **초기 로드**: 3초 이내 (PWA 캐시 활용)
- **게임 시작**: 1초 이내
- **턴 전환**: 즉각적 (네트워크 지연 별도)

### Platform-Specific Details

#### 웹 (Primary)

| 항목 | 요구사항 |
|------|----------|
| **브라우저** | Chrome, Safari, Firefox, Edge (최신 2버전) |
| **WebGL** | WebGL 2.0 |
| **빌드 크기** | 초기 로드 2MB 이하 (코드 스플리팅) |
| **오프라인** | PWA Service Worker로 오프라인 UI 지원 |

#### 모바일 웹 (PWA)

| 항목 | 요구사항 |
|------|----------|
| **iOS** | Safari 15+ (iOS 15+) |
| **Android** | Chrome 90+ (Android 10+) |
| **방향** | 세로 모드 (Portrait) 기본, 가로 지원 |
| **터치** | 멀티터치 불필요, 싱글 터치 최적화 |

### Tech Stack

| 레이어 | 기술 |
|--------|------|
| **프론트엔드** | React 19 + Phaser 3.90+ + TypeScript |
| **상태 관리** | Zustand |
| **라우팅** | TanStack Router |
| **API** | TanStack Query + tRPC |
| **게임 서버** | Colyseus (WebSocket) |
| **API 서버** | NestJS |
| **DB** | Supabase (PostgreSQL) |
| **배포** | Cloudflare Pages/Workers |

### Asset Requirements

#### Art Assets

| 에셋 유형 | 예상 수량 | 해상도 |
|----------|----------|--------|
| **보드 타일** | 4종 (일반, 시작, 끝, 측면) | 64x64 ~ 128x128 |
| **장수 초상화** | 20+ (확장 가능) | 256x256 |
| **장수 토큰** | 20+ | 48x48 |
| **UI 요소** | 50+ | 다양 |
| **이펙트** | 10+ | 스프라이트 시트 |

#### Audio Assets

| 에셋 유형 | 예상 수량 | 형식 |
|----------|----------|------|
| **BGM** | 4-6곡 | MP3/OGG |
| **SFX** | 20-30개 | WAV/MP3 |
| **UI 사운드** | 10-15개 | WAV |

#### External Assets

- **폰트**: 무료 한글 폰트 (Noto Sans KR 등)
- **아이콘**: 자체 제작 또는 무료 라이선스
- **음악/SFX**: 저작권 프리 또는 자체 제작

### Technical Constraints

| 제약 | 설명 |
|------|------|
| **네트워크** | WebSocket 필수 (온라인 대전) |
| **저장소** | LocalStorage 제한 (5MB) |
| **동시 접속** | Colyseus 서버 스케일링 필요 |
| **보안** | 게임 로직 서버 검증 필수 (치팅 방지) |

---

## Development Epics

### Epic Overview

| # | Epic Name | Phase | Scope | Est. Stories |
|---|-----------|-------|-------|--------------|
| 1 | 보드 시스템 | 1 | 삼각형 보드 렌더링, 타일 상호작용 | 6 |
| 2 | 장수 시스템 | 1 | 장수 배치, 스탯, 선택 | 5 |
| 3 | 이동 시스템 | 1 | 이동 규칙, 경로 표시, 유효성 검증 | 5 |
| 4 | 전투 시스템 | 1 | 해/달/전선 공격, 피해 계산 | 6 |
| 5 | 턴 관리 | 1 | 턴 전환, 타이머, 상태 관리 | 4 |
| 6 | 승리 조건 | 1 | 노크, 전멸, 와해, 항복 | 5 |
| 7 | 책략 시스템 | 2-3 | 20개 책략 구현 | 12 |
| 8 | UI/UX | 1-2 | 게임 UI, HUD, 메뉴 | 8 |
| 9 | 멀티플레이어 | 2 | 온라인 대전, 매칭, 동기화 | 10 |
| 10 | 계정/랭킹 | 2-3 | 로그인, ELO, 티어, 전적 | 7 |

### Recommended Sequence

**Phase 1 (MVP - 로컬 2인 대전)**
1. Epic 1: 보드 시스템 → 기본 렌더링
2. Epic 2: 장수 시스템 → 기물 배치
3. Epic 3: 이동 시스템 → 기물 이동
4. Epic 4: 전투 시스템 → 공격/피해
5. Epic 5: 턴 관리 → 턴 전환
6. Epic 6: 승리 조건 → 게임 종료
7. Epic 8: UI/UX (기본) → 플레이 가능한 데모

**Phase 2 (온라인 대전)**
8. Epic 9: 멀티플레이어 → 온라인 매칭
9. Epic 10: 계정/랭킹 (기본) → 로그인, 전적

**Phase 3 (풀 게임)**
10. Epic 7: 책략 시스템 → 20개 책략
11. Epic 10: 계정/랭킹 (확장) → 티어, 시즌

### Vertical Slice (Phase 1 목표)

**첫 플레이 가능 마일스톤:**
- 34타일 삼각형 보드 렌더링
- 양측 장수 5명씩 배치
- 이동 및 방향성 전투 (해/달/전선)
- 노크 승리 조건
- 로컬 2인 대전 가능

이 Vertical Slice로 핵심 게임플레이를 검증합니다.

---

## Success Metrics

### Technical Metrics

PvP 대전 게임의 기술적 품질 지표:

- **프레임레이트**: 60 FPS 유지 (모바일 기기에서)
- **로딩 시간**: 초기 로딩 3초 이내, 매치 로딩 1초 이내
- **네트워크 지연**: 100ms 이하 (실시간 턴 동기화)
- **PWA Lighthouse 점수**: 90점 이상
- **크래시율**: 0.1% 미만

#### Key Technical KPIs

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| 프레임레이트 | 60 FPS | Phaser 성능 모니터링 |
| 초기 로딩 | < 3초 | Performance API |
| 매치 동기화 지연 | < 100ms | Colyseus 메트릭 |
| PWA Lighthouse | > 90 | Google Lighthouse |
| 크래시율 | < 0.1% | Sentry 에러 추적 |
| 빌드 크기 | < 5MB | 번들 분석 |

### Gameplay Metrics

게임플레이 품질 및 밸런스 지표:

- **매치 길이**: 평균 5-10분
- **승률 밸런스**: 선공/후공 간 52:48 이내
- **장수 밸런스**: 개별 장수 승률 45-55% 범위
- **책략 사용률**: 모든 책략이 5% 이상 사용
- **리텐션**: 7일 리텐션 30% 이상

#### Key Gameplay KPIs

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| 평균 매치 길이 | 5-10분 | 게임 세션 로그 |
| 선공/후공 밸런스 | 48-52% | 승률 통계 |
| 일일 활성 매치 | 측정 | Supabase Analytics |
| 리매치율 | > 40% | 매치 후 행동 추적 |
| 7일 리텐션 | > 30% | 코호트 분석 |
| 티어 상승률 | 측정 | 랭킹 시스템 데이터 |

### Qualitative Success Criteria

정성적 성공 지표:

1. **테마 만족도**: 플레이어가 삼국지 분위기를 느낀다고 표현
2. **전략적 깊이**: "두뇌 싸움", "전략적"이라는 리뷰 키워드
3. **커뮤니티 활성화**: 덱/전략 공유, 팬 콘텐츠 생성
4. **스트리머 친화**: 해설 없이도 시청자가 이해 가능
5. **추천 의향**: 친구에게 게임을 추천하는 비율 높음
6. **공정성 인식**: "실력으로 이겼다/졌다"는 느낌

### Metric Review Cadence

| 주기 | 검토 항목 |
|------|----------|
| **매일** | 서버 안정성, 크래시율, 동시접속자 |
| **매주** | 매치 밸런스, 장수별 승률, 리텐션 |
| **매월** | 티어 분포, 책략 메타, 전체 KPI |
| **마일스톤** | 플레이테스트 피드백, 정성적 평가 |

---

## Out of Scope

### v1.0 (Phase 1-2) 범위 외 기능

| 카테고리 | 범위 외 항목 |
|----------|-------------|
| **기능** | AI 대전 (Phase 2 이후), 관전 모드, 리플레이 시스템, 토너먼트 모드 |
| **콘텐츠** | 전체 20개 책략 (MVP는 기본만), 추가 장수 확장, 보드 변형 |
| **플랫폼** | 네이티브 앱 (App Store/Play Store), 콘솔 포팅 |
| **폴리시** | 풀 보이스, 오케스트라 사운드트랙, 고급 이펙트 |
| **기타** | 다국어 지원, 모드 에디터, 소셜 기능 |

### Deferred to Post-Launch (Phase 3+)

- 20개 전체 책략 시스템
- 추가 장수 (20명+)
- AI 연습 모드 (난이도 선택)
- 관전 및 리플레이 시스템
- 시즌 시스템 및 시즌 보상
- 토너먼트/대회 모드
- 네이티브 앱 출시

---

## Assumptions and Dependencies

### Key Assumptions

| 영역 | 가정사항 |
|------|----------|
| **기술** | React 19, Phaser 3.90+, Colyseus가 안정적으로 유지됨 |
| **기술** | WebGL 2.0이 타겟 브라우저 (Chrome 90+, Safari 15+)에서 지원됨 |
| **팀** | 1인 개발 또는 소규모 팀 기준의 개발 속도 |
| **외부** | Cloudflare Pages/Workers 무료 티어로 초기 런칭 가능 |
| **IP** | 초기 팬 게임 버전, 상업화 시 초상화 교체로 IP 문제 해결 |
| **시장** | 삼국지 테마 전략 게임에 대한 지속적인 수요 |

### External Dependencies

| 카테고리 | 의존성 | 중요도 |
|----------|--------|--------|
| **Backend** | Supabase (DB/Auth) | 필수 |
| **Game Server** | Colyseus Cloud (WebSocket) | 필수 (Phase 2) |
| **Framework** | React 19, Phaser 3.90+, TypeScript | 필수 |
| **Deployment** | Cloudflare Pages/Workers | 필수 |
| **Fonts** | Noto Sans KR (무료) | 권장 |
| **Assets** | 자체 제작 픽셀 아트 | 필수 |

### Risk Factors

| 리스크 | 영향 | 완화 방안 |
|--------|------|----------|
| Colyseus 서버 비용 증가 | 중간 | 사용량 기반 모니터링, 서버리스 대안 검토 |
| 밸런스 이슈 발생 | 높음 | 베타 테스트, 빠른 패치 사이클, 승률 모니터링 |
| IP 권리 문제 | 낮음 | 교체 가능한 모듈식 초상화 설계 |
| 저조한 유저 유입 | 중간 | 유튜버 커뮤니티 타겟 마케팅, 입소문 전략 |

---

## Document Information

**Document:** 오호대장군 (Five Tiger Generals) - Game Design Document
**Version:** 1.0
**Created:** 2026-02-03
**Author:** CHOI
**Status:** Complete

### Change Log

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | 2026-02-03 | Initial GDD complete |
