# 오호대장군 - 개발 로드맵

> 작성일: 2026-02-02
> 버전: 1.1.0 (SSOT 정합성 반영)
> 작성자: Max (Scrum Master), Indie (Solo Dev)

---

## 1. 로드맵 개요

### 1.1 전체 타임라인

```
┌─────────────────────────────────────────────────────────────────────┐
│  Phase 1: Local Demo                                                │
│  ├── M1: 프로젝트 셋업 ─────────────────┐                           │
│  ├── M2: 보드 시스템 ──────────────────┐│                           │
│  ├── M3: 전투 시스템 ─────────────────┐││                           │
│  └── M4: 로컬 플레이 ────────────────┐│││                           │
├──────────────────────────────────────┼┼┼┼───────────────────────────┤
│  Phase 2: Online Demo                ││││                           │
│  ├── M5: 게임 서버 ─────────────────┐││││                           │
│  ├── M6: 매칭 시스템 ──────────────┐│││││                           │
│  └── M7: 온라인 플레이 ───────────┐││││││                           │
├───────────────────────────────────┼┼┼┼┼┼┼───────────────────────────┤
│  Phase 3: Full Game               │││││││                           │
│  ├── M8: 전술 시스템             │││││││                           │
│  ├── M9: 계정/랭킹               │││││││                           │
│  └── M10: 정식 출시              │││││││                           │
└───────────────────────────────────┴┴┴┴┴┴┴───────────────────────────┘
```

### 1.2 Phase별 목표

| Phase | 목표 | 핵심 결과물 |
|-------|------|-----------|
| **Phase 1** | 2인 로컬 플레이 | 플레이 가능한 데모 |
| **Phase 2** | 1:1 온라인 매칭 | 멀티플레이어 프로토타입 |
| **Phase 3** | 완전한 서비스 | 정식 출시 버전 |

---

## 2. Phase 1: Local Demo

### 2.1 마일스톤 0: 기술 검증 (Spike) ⚡ NEW

**목표**: 삼각형 좌표계 핵심 기술 검증 (2-3일)

> **"플레이 가능한 빌드가 먼저!"** - Indie

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| Vite + Phaser 설정 | `npm create vite@latest` + Phaser 설치 | 빈 캔버스 표시 |
| 삼각형 보드 렌더링 | 34 타일 화면에 표시 | 타일 클릭 가능 |
| 좌표계 검증 | 화면 좌표 ↔ 타일 ID 변환 | 모든 타일 클릭 정확 |

**인수 조건**:
- [ ] 삼각형 보드가 화면에 표시됨
- [ ] 타일 클릭 시 콘솔에 타일 ID 출력
- [ ] Up/Down 삼각형 구분 가능

> ⚠️ 이 마일스톤에서 막히면 전체 프로젝트 재검토 필요

---

### 2.2 마일스톤 1: 프로젝트 셋업 (간소화)

**목표**: 최소한의 개발 환경 구축

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| 프로젝트 구조 | 단일 프로젝트로 시작 | `pnpm dev` 동작 |
| TypeScript 설정 | 타입 설정 | 컴파일 성공 |
| game-core 분리 | src/game-core/ 폴더 | import 가능 |
| 테스트 인프라 | Vitest 설정 | 테스트 실행 가능 |

**제거된 항목** (Phase 1에서 불필요):
- ~~CI/CD~~ → 첫 외부 플레이테스트 시 추가
- ~~Cloudflare 배포~~ → localhost로 충분
- ~~모노레포~~ → 단일 프로젝트로 시작

**인수 조건**:
- [ ] `pnpm dev` 로 개발 서버 실행
- [ ] `pnpm test` 로 테스트 실행
- [ ] game-core에서 타입 import 가능

---

### 2.3 마일스톤 2: 보드 시스템

**목표**: 삼각형 보드 렌더링 및 기물 배치

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| BoardGraph 이식 | Legacy 코드 정제 | 단위 테스트 통과 |
| Phaser 설정 | SSR Safe 로딩 | 서버 빌드 에러 없음 |
| 보드 렌더링 | 34 타일 시각화 | 화면에 보드 표시 |
| 타일 인터랙션 | 클릭 이벤트 | 클릭 시 타일 하이라이트 |
| 기물 배치 | 초기 배치 | 10개 기물 표시 |

**인수 조건**:
- [ ] 삼각형 보드 34 타일 렌더링
- [ ] 타일 클릭 시 선택 표시
- [ ] 양 진영 기물 5개씩 배치
- [ ] 모바일에서도 정상 표시

---

### 2.4 마일스톤 3: 전투 시스템

**목표**: 이동, 공격, 교착/이탈 구현

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| 게임 엔진 이식 | Legacy engine.ts 정제 | 단위 테스트 통과 |
| 이동 시스템 | 경로 탐색, 이동 실행 | 기물 이동 가능 |
| 공격 시스템 | 해/달/전선 공격 | 데미지 계산 정확 |
| 교착 시스템 | 전선 공격 시 교착 | 교착 상태 표시 |
| 이탈 시스템 | 교착 탈출 | 2 데미지 페널티 |

**인수 조건**:
- [ ] 기물 선택 시 이동 가능 타일 표시
- [ ] 이동력에 따른 이동 제한
- [ ] 해/달/전선 공격 정상 동작
- [ ] 교착 상태 진입/탈출 동작

---

### 2.5 마일스톤 4: 로컬 플레이

**목표**: 2인 로컬 플레이 가능한 완성된 데모

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| 턴 시스템 | 턴 전환, 액션 제한 | 2 액션/턴 동작 |
| 승리 조건 | 노크 3회 체크 | 승리 판정 |
| UI 패널 | 상태 표시, 턴 정보 | 정보 명확히 표시 |
| 게임 플로우 | 시작/종료 처리 | 재시작 가능 |
| 폴리시 | 애니메이션, 피드백 | 부드러운 UX |
| **통합 테스트** | E2E 게임 플로우 테스트 | 테스트 통과 |

**인수 조건**:
- [ ] 게임 시작부터 승리까지 전체 플로우
- [ ] 같은 기물 같은 액션 2회 제한
- [ ] 노크 3회 시 승리 메시지
- [ ] 게임 재시작 기능
- [ ] 60fps 성능 체크포인트 통과

---

## 3. Phase 2: Online Demo

### 3.1 마일스톤 5: 게임 서버

**목표**: Colyseus 기반 게임 서버 구축

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| Colyseus 설정 | 서버 초기화 | 서버 실행 |
| GameRoom | 룸 클래스 구현 | 클라이언트 접속 |
| GameState | 상태 스키마 정의 | 상태 동기화 |
| GameLogic | 서버 측 로직 | 서버 권위적 검증 |
| Docker | 컨테이너화 | 로컬 Docker 실행 |

---

### 3.2 마일스톤 6: 매칭 시스템

**목표**: 랜덤 매칭으로 상대 찾기

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| 매칭 큐 | 대기열 관리 | 매칭 대기 |
| 룸 생성 | 2인 매칭 시 룸 생성 | 자동 룸 배정 |
| 연결 관리 | 접속/연결 끊김 처리 | 안정적 연결 |

---

### 3.3 마일스톤 7: 온라인 플레이

**목표**: 실시간 온라인 대전

| 작업 | 설명 | 완료 기준 |
|------|------|----------|
| 실시간 동기화 | 상태 브로드캐스트 | 지연 < 100ms |
| 재연결 | 연결 끊김 복구 | 게임 이어하기 |
| 턴 타이머 | 시간 제한 | 타임아웃 처리 |

---

## 4. Phase 3: Full Game

### 4.1 마일스톤 8: 전술 시스템

- 20개 전술 구현
- 전술 선택 UI
- 밸런스 조정

### 4.2 마일스톤 9: 계정/랭킹

- 소셜 로그인 (네이버, 구글)
- ELO 레이팅 시스템
- 리더보드

### 4.3 마일스톤 10: 정식 출시

- 튜토리얼
- 리플레이 시스템
- 모니터링/분석

---

## 5. 우선순위 원칙

### 5.1 MVP 철학 (Indie의 원칙)

> "플레이 가능한 빌드가 먼저!"

```
❌ 잘못된 접근:
   완벽한 기획 → 완벽한 설계 → 완벽한 구현 → 출시
   (너무 오래 걸림, 피드백 없음)

✅ 올바른 접근:
   최소 기능 → 플레이 테스트 → 피드백 → 개선 → 반복
   (빠른 검증, 지속적 개선)
```

### 5.2 기능 우선순위 매트릭스

```
                    Impact
                High        Low
           ┌─────────┬─────────┐
    High   │   DO    │  PLAN   │
  Effort   │  FIRST  │  LATER  │
           ├─────────┼─────────┤
    Low    │   DO    │  MAYBE  │
           │  QUICK  │  SKIP   │
           └─────────┴─────────┘
```

**Phase 1 우선순위**:
| 우선순위 | 기능 | Impact | Effort |
|---------|------|--------|--------|
| 1 | 보드 + 이동 | High | Low |
| 2 | 전투 시스템 | High | Medium |
| 3 | 승리 조건 | High | Low |
| 4 | UI 폴리시 | Medium | Medium |
| - | 전술 시스템 | High | High (Phase 3) |
| - | 온라인 | High | High (Phase 2) |

---

## 6. 리스크 관리

### 6.1 기술적 리스크

| 리스크 | 확률 | 영향 | 대응 |
|--------|------|------|------|
| Phaser SSR 이슈 | 중간 | 높음 | useGameLoader 패턴 검증됨 |
| 삼각형 그리드 버그 | 높음 | 중간 | 기존 BoardGraph 코드 테스트 |
| 성능 이슈 | 낮음 | 중간 | 34 타일은 충분히 가벼움 |

### 6.2 일정 리스크

| 리스크 | 확률 | 영향 | 대응 |
|--------|------|------|------|
| 범위 확대 | 높음 | 높음 | MVP 범위 엄격 관리 |
| 밸런스 이슈 | 중간 | 중간 | 플레이테스트 조기 시작 |
| 기술 부채 | 중간 | 중간 | 리팩토링 시간 확보 |

### 6.3 완화 전략

1. **주간 플레이테스트**: 매주 최소 1회 내부 테스트
2. **범위 동결**: 마일스톤 시작 후 범위 변경 금지
3. **기술 부채 관리**: 각 마일스톤에 20% 리팩토링 시간

---

## 7. 성공 지표

### 7.1 Phase 1 완료 지표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 기능 완성도 | 100% | 체크리스트 |
| 버그 | 0 Critical | 테스트 결과 |
| 플레이테스트 | 10명 | 참여자 수 |
| 재미 평가 | 70% 긍정 | 설문 |

### 7.2 Phase 2 완료 지표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 동시 접속 | 50명 | 부하 테스트 |
| 매칭 시간 | < 30초 | 로그 분석 |
| 게임 완료율 | > 80% | 로그 분석 |

---

## 8. 체크포인트

### 8.1 주간 체크포인트

매주 금요일:
- [ ] 주간 목표 달성 여부 검토
- [ ] 다음 주 목표 설정
- [ ] 블로커 식별 및 해결 방안
- [ ] 플레이테스트 (가능 시)

### 8.2 마일스톤 체크포인트

마일스톤 완료 시:
- [ ] 모든 인수 조건 충족
- [ ] 회고 (잘한 점, 개선할 점)
- [ ] 다음 마일스톤 계획 확정
- [ ] 데모 배포 및 공유

---

## 9. 일정 재추정 (리뷰 반영)

### 9.1 Phase 1 재추정

| 항목 | 기존 SP | 수정 SP | 변경 사유 |
|------|---------|---------|----------|
| 기존 스토리 | 46 | 58 | 삼각형 좌표계 과소평가 보정 |
| 테스트 스토리 추가 | - | 6 | 테스트 인프라 + 통합 테스트 |
| 인프라 작업 추가 | - | 4 | 에셋 파이프라인, 좌표계 유틸 |
| **Phase 1 합계** | 46 | **68** | **+22 SP** |

### 9.2 전체 일정

| Phase | SP | 기간 |
|-------|-----|------|
| Phase 1 | 68 | **6주** |
| Phase 2 | 55 | 5주 |
| Phase 3 | 49 | 5주 |
| **전체** | **172** | **16주** |

---

## 10. 다음 단계

이 로드맵을 기반으로 상세한 에픽과 스토리를 `05-backlog.md`에 정의합니다.

**즉시 시작할 작업** (수정됨):
1. ⚡ **Spike: 삼각형 보드 기술 검증** (2-3일)
2. Vite + Phaser 설정
3. 보드 렌더링 프로토타입
4. 좌표계 검증
---

*이 로드맵은 Max (Scrum Master)와 Indie (Solo Dev)의 협업으로 작성되었습니다.*
*"플레이 가능한 빌드가 먼저!" - Indie*
*리뷰 피드백 반영: 2026-02-02*
